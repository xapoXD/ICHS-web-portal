{"ast":null,"code":"/**\n * Source code reference from:\n * https://github.com/facebook/fbjs/blob/d308fa83c9/packages/fbjs/src/dom/translateDOMPositionXY.js\n */\nimport BrowserSupportCore from \"./utils/BrowserSupportCore.js\";\nimport getVendorPrefixedName from \"./utils/getVendorPrefixedName.js\";\nimport getGlobal from \"./utils/getGlobal.js\";\nvar g = getGlobal();\nvar TRANSFORM = getVendorPrefixedName('transform');\nvar BACKFACE_VISIBILITY = getVendorPrefixedName('backfaceVisibility');\nvar appendLeftAndTop = function appendLeftAndTop(style, x, y) {\n  if (x === void 0) {\n    x = 0;\n  }\n  if (y === void 0) {\n    y = 0;\n  }\n  style.left = x + \"px\";\n  style.top = y + \"px\";\n  return style;\n};\nvar appendTranslate = function appendTranslate(style, x, y) {\n  if (x === void 0) {\n    x = 0;\n  }\n  if (y === void 0) {\n    y = 0;\n  }\n  style[TRANSFORM] = \"translate(\" + x + \"px,\" + y + \"px)\";\n  return style;\n};\nvar appendTranslate3d = function appendTranslate3d(style, x, y) {\n  if (x === void 0) {\n    x = 0;\n  }\n  if (y === void 0) {\n    y = 0;\n  }\n  style[TRANSFORM] = \"translate3d(\" + x + \"px,\" + y + \"px,0)\";\n  style[BACKFACE_VISIBILITY] = 'hidden';\n  return style;\n};\nexport var getTranslateDOMPositionXY = function getTranslateDOMPositionXY(conf) {\n  var _ref = conf || {},\n    _ref$enableTransform = _ref.enableTransform,\n    enableTransform = _ref$enableTransform === void 0 ? true : _ref$enableTransform,\n    _ref$enable3DTransfor = _ref.enable3DTransform,\n    enable3DTransform = _ref$enable3DTransfor === void 0 ? true : _ref$enable3DTransfor,\n    forceUseTransform = _ref.forceUseTransform;\n  if (forceUseTransform) {\n    return conf.enable3DTransform ? appendTranslate3d : appendTranslate;\n  }\n  if (BrowserSupportCore.hasCSSTransforms() && enableTransform) {\n    var ua = g.window ? g.window.navigator.userAgent : 'UNKNOWN';\n    var isSafari = /Safari\\//.test(ua) && !/Chrome\\//.test(ua); // It appears that Safari messes up the composition order\n    // of GPU-accelerated layers\n    // (see bug https://bugs.webkit.org/show_bug.cgi?id=61824).\n    // Use 2D translation instead.\n\n    if (!isSafari && BrowserSupportCore.hasCSS3DTransforms() && enable3DTransform) {\n      return appendTranslate3d;\n    }\n    return appendTranslate;\n  }\n  return appendLeftAndTop;\n};\nvar translateDOMPositionXY = getTranslateDOMPositionXY();\nexport default translateDOMPositionXY;","map":null,"metadata":{},"sourceType":"module"}