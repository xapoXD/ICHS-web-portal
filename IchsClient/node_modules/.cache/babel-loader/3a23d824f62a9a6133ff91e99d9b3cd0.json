{"ast":null,"code":"'use client';\n\nimport { useState } from 'react';\nimport { useEventCallback } from \"../../internals/hooks/index.js\";\nimport { getSafeRegExpString } from \"../../internals/utils/index.js\";\nfunction useSearch(props) {\n  var _useState = useState(''),\n    searchKeyword = _useState[0],\n    setSearchKeyword = _useState[1];\n  var labelKey = props.labelKey,\n    valueKey = props.valueKey,\n    flattenedData = props.flattenedData,\n    uncheckableItemValues = props.uncheckableItemValues,\n    onSearch = props.onSearch;\n  var getSearchResult = function getSearchResult() {\n    var items = [];\n    var result = flattenedData.filter(function (item) {\n      if (uncheckableItemValues !== null && uncheckableItemValues !== void 0 && uncheckableItemValues.some(function (value) {\n        return item[valueKey] === value;\n      })) {\n        return false;\n      }\n      if (item[labelKey].match(new RegExp(getSafeRegExpString(searchKeyword), 'i'))) {\n        return true;\n      }\n      return false;\n    });\n    for (var i = 0; i < result.length; i++) {\n      items.push(result[i]);\n\n      // A maximum of 100 search results are returned.\n      if (i === 99) {\n        return items;\n      }\n    }\n    return items;\n  };\n  var handleSearch = useEventCallback(function (value, event) {\n    setSearchKeyword(value);\n    onSearch === null || onSearch === void 0 ? void 0 : onSearch(value, event);\n  });\n  return {\n    searchKeyword: searchKeyword,\n    setSearchKeyword: setSearchKeyword,\n    items: getSearchResult(),\n    handleSearch: handleSearch\n  };\n}\nexport default useSearch;","map":null,"metadata":{},"sourceType":"module"}