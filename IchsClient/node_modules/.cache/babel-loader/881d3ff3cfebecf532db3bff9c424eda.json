{"ast":null,"code":"'use client';\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"as\", \"title\", \"children\", \"className\", \"menuStyle\", \"disabled\", \"renderTitle\", \"renderToggle\", \"classPrefix\", \"placement\", \"toggleClassName\", \"icon\", \"eventKey\", \"toggleAs\", \"noCaret\", \"style\", \"onOpen\", \"onClose\", \"open\", \"onToggle\"];\nimport React, { useContext, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport kebabCase from 'lodash/kebabCase';\nimport omit from 'lodash/omit';\nimport { PLACEMENT_8 } from \"../internals/constants/index.js\";\nimport { useClassNames, useInternalId } from \"../internals/hooks/index.js\";\nimport { placementPolyfill, mergeRefs } from \"../internals/utils/index.js\";\nimport { SidenavContext } from \"./Sidenav.js\";\nimport { deprecatePropType, oneOf } from \"../internals/propTypes/index.js\";\nimport SidenavDropdownCollapse from \"./SidenavDropdownCollapse.js\";\nimport Disclosure from \"../internals/Disclosure/Disclosure.js\";\nimport SidenavDropdownToggle from \"./SidenavDropdownToggle.js\";\nimport { NavMenuContext } from \"../Nav/NavMenu.js\";\nimport NavContext from \"../Nav/NavContext.js\";\nvar ExpandedSidenavDropdown = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var sidenav = useContext(SidenavContext);\n  var nav = useContext(NavContext);\n  var navMenu = useContext(NavMenuContext);\n  if (!sidenav || !nav || !navMenu) {\n    throw new Error('<SidenavDropdown> component is not supposed to be used standalone. Use <Nav.Menu> inside <Sidenav> instead.');\n  }\n  var _props$as = props.as,\n    Component = _props$as === void 0 ? 'div' : _props$as,\n    title = props.title,\n    children = props.children,\n    className = props.className,\n    menuStyle = props.menuStyle,\n    disabled = props.disabled,\n    renderTitle = props.renderTitle,\n    renderToggle = props.renderToggle,\n    _props$classPrefix = props.classPrefix,\n    classPrefix = _props$classPrefix === void 0 ? 'dropdown' : _props$classPrefix,\n    _props$placement = props.placement,\n    placement = _props$placement === void 0 ? 'bottomStart' : _props$placement,\n    toggleClassName = props.toggleClassName,\n    icon = props.icon,\n    eventKey = props.eventKey,\n    toggleAs = props.toggleAs,\n    noCaret = props.noCaret,\n    style = props.style,\n    onOpen = props.onOpen,\n    onClose = props.onClose,\n    openProp = props.open,\n    onToggle = props.onToggle,\n    rest = _objectWithoutPropertiesLoose(props, _excluded);\n  var _useClassNames = useClassNames(classPrefix),\n    merge = _useClassNames.merge,\n    withClassPrefix = _useClassNames.withClassPrefix;\n  var internalId = useInternalId('SidenavDropdown');\n  var uniqueKey = eventKey !== null && eventKey !== void 0 ? eventKey : internalId;\n  var _sidenav$openKeys = sidenav.openKeys,\n    openKeys = _sidenav$openKeys === void 0 ? [] : _sidenav$openKeys,\n    onOpenChange = sidenav.onOpenChange;\n  var items = navMenu[0].items;\n  var hasSelectedItems =\n  // has items that is active indicated by <Nav activeKey>\n  nav.activeKey && items.some(function (item) {\n    return item.eventKey === nav.activeKey;\n  }) ||\n  // has items that is active indicated by <Nav.Item active>\n  items.some(function (item) {\n    return item.active;\n  });\n  var handleToggleDisclosure = useCallback(function (open, event) {\n    if (open) {\n      onClose === null || onClose === void 0 ? void 0 : onClose();\n    } else {\n      onOpen === null || onOpen === void 0 ? void 0 : onOpen();\n    }\n    onToggle === null || onToggle === void 0 ? void 0 : onToggle(open);\n    onOpenChange === null || onOpenChange === void 0 ? void 0 : onOpenChange(uniqueKey, event);\n  }, [onClose, onOpen, onToggle, uniqueKey, onOpenChange]);\n  var open = openProp !== null && openProp !== void 0 ? openProp : openKeys.includes(uniqueKey);\n  return /*#__PURE__*/React.createElement(Disclosure, {\n    open: open,\n    onToggle: handleToggleDisclosure\n  }, function (_ref, containerRef) {\n    var _withClassPrefix;\n    var open = _ref.open;\n    var classes = merge(className, withClassPrefix((_withClassPrefix = {}, _withClassPrefix[\"placement-\" + kebabCase(placementPolyfill(placement))] = placement, _withClassPrefix[open ? 'expand' : 'collapse'] = true, _withClassPrefix.disabled = disabled, _withClassPrefix['selected-within'] = hasSelectedItems, _withClassPrefix['no-caret'] = noCaret, _withClassPrefix)));\n    return /*#__PURE__*/React.createElement(Component, _extends({\n      ref: mergeRefs(ref, containerRef),\n      style: style,\n      className: classes\n    }, rest, {\n      \"data-event-key\": eventKey\n    }), /*#__PURE__*/React.createElement(Disclosure.Button, null, function (buttonProps, buttonRef) {\n      return /*#__PURE__*/React.createElement(SidenavDropdownToggle, _extends({\n        ref: buttonRef,\n        as: toggleAs,\n        noCaret: noCaret,\n        className: toggleClassName,\n        renderToggle: renderToggle,\n        icon: icon,\n        placement: placement\n      }, omit(buttonProps, ['open'])), title);\n    }), /*#__PURE__*/React.createElement(Disclosure.Content, null, function (_ref2) {\n      var open = _ref2.open;\n      return /*#__PURE__*/React.createElement(SidenavDropdownCollapse, {\n        open: open,\n        style: menuStyle\n      }, children);\n    }));\n  });\n});\nExpandedSidenavDropdown.displayName = 'Sidenav.Dropdown';\nExpandedSidenavDropdown.propTypes = {\n  activeKey: PropTypes.any,\n  classPrefix: PropTypes.string,\n  placement: oneOf(PLACEMENT_8),\n  title: PropTypes.node,\n  disabled: PropTypes.bool,\n  icon: PropTypes.node,\n  menuStyle: PropTypes.object,\n  className: PropTypes.string,\n  toggleClassName: PropTypes.string,\n  children: PropTypes.node,\n  tabIndex: PropTypes.number,\n  open: deprecatePropType(PropTypes.bool),\n  eventKey: PropTypes.any,\n  as: PropTypes.elementType,\n  toggleAs: PropTypes.elementType,\n  noCaret: PropTypes.bool,\n  style: PropTypes.object,\n  onClose: PropTypes.func,\n  onOpen: PropTypes.func,\n  onToggle: PropTypes.func,\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onContextMenu: PropTypes.func,\n  onClick: PropTypes.func,\n  renderTitle: deprecatePropType(PropTypes.func),\n  renderToggle: PropTypes.func\n};\nexport default ExpandedSidenavDropdown;","map":null,"metadata":{},"sourceType":"module"}